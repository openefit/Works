<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body,dl,dt,dd,p{margin:0;padding:0;}
        body{font-family:Tahoma;font-size:12px;}
        label,input,a{vertical-align:middle;}
        label{padding:0 10px 0 5px;}
        a{color:#09f;text-decoration:none;}
        a:hover{color:red;}
        dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
        dt{padding-bottom:10px;border-bottom:1px solid #666;}
        dt label{font-weight:700;}
        p{margin-top:10px;}
    </style>
    <script>
        window.onload = function () {

            var oCheck = document.getElementsByTagName('dd')[0].getElementsByTagName('input');
            var oAll = document.getElementById('checkAll'),
                    oLabel = document.getElementsByTagName('label')[0];
            var oRevert = document.getElementsByTagName('a')[0];
            var isCheckAll = function(){
                for(var i = 0,n = 0; i < oCheck.length; i++){
                    oCheck[i].checked && n++;
                }
                oAll.checked = n == oCheck.length ;
                oLabel.innerHTML =  oAll.checked? "全不选" : "全选";
            };

            oAll.onclick = function () {
                for(i in oCheck) oCheck[i].checked = this.checked;
                oLabel.innerHTML = oLabel.innerHTML == "全选" ? "全不选" : "全选";
            };
            oRevert.onclick = function(){
                for(var i= 0,n =0; i < oCheck.length; i++){
                    oCheck[i].checked = !oCheck[i].checked;
                }
                isCheckAll();
            };
            for(var i = 0; i < oCheck.length; i++){
                //()为调用，不是赋值；
                //oCheck[i].onclick() = function(){}
                oCheck[i].onclick = function () {
                    isCheckAll();
                }
            };

        }
    </script>
</head>
<body>
<main>
    <dl>
        <dt><input type="checkbox" id="checkAll" /><label>全选</label><a href="javascript:;">反选</a></dt>
        <dd>
            <p><input type="checkbox" name="item" /><label>选项（一）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（二）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（三）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（四）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（五）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（六）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（七）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（八）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（九）</label></p>
            <p><input type="checkbox" name="item" /><label>选项（十）</label></p>
        </dd>
    </dl>
    <center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>

</main>
</body>
</html>